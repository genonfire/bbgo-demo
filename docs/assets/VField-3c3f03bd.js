import{i as M,m as A,k as O,z as u,l as D,a,a1 as q,av as Y,X as R,aG as T,n as ne,v as le,x as ie,_ as se,C as E,q as oe,s as re,am as de,E as ce,B as ue,F as fe,M as ve,aO as ge,aY as me}from"./index-b7137ed4.js";import{F as ye,a5 as he,W as be,X as xe,K as Ce,c as ke,a6 as Fe,D as Ve,z as _e,a7 as we,e as Ie,L as Pe,a4 as Be,g as Se}from"./forwardRefs-b452bb48.js";class S{constructor(n){let{x:i,y:l,width:t,height:d}=n;this.x=i,this.y=l,this.width=t,this.height=d}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function We(e,n){return{x:{before:Math.max(0,n.left-e.left),after:Math.max(0,e.right-n.right)},y:{before:Math.max(0,n.top-e.top),after:Math.max(0,e.bottom-n.bottom)}}}function ze(e){return Array.isArray(e)?new S({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Le(e){const n=e.getBoundingClientRect(),i=getComputedStyle(e),l=i.transform;if(l){let t,d,f,b,y;if(l.startsWith("matrix3d("))t=l.slice(9,-1).split(/, /),d=+t[0],f=+t[5],b=+t[12],y=+t[13];else if(l.startsWith("matrix("))t=l.slice(7,-1).split(/, /),d=+t[0],f=+t[3],b=+t[4],y=+t[5];else return new S(n);const c=i.transformOrigin,h=n.x-b-(1-d)*parseFloat(c),x=n.y-y-(1-f)*parseFloat(c.slice(c.indexOf(" ")+1)),L=d?n.width/d:e.offsetWidth+1,$=f?n.height/f:e.offsetHeight+1;return new S({x:h,y:x,width:L,height:$})}else return new S(n)}function $e(e,n,i){if(typeof e.animate>"u")return{finished:Promise.resolve()};let l;try{l=e.animate(n,i)}catch{return{finished:Promise.resolve()}}return typeof l.finished>"u"&&(l.finished=new Promise(t=>{l.onfinish=()=>{t(l)}})),l}const Re="cubic-bezier(0.4, 0, 0.2, 1)",Ke="cubic-bezier(0.0, 0, 0.2, 1)",Ne="cubic-bezier(0.4, 0, 1, 1)";const Te=M({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...A(),...ye({transition:{component:he}})},"VCounter"),Ue=O()({name:"VCounter",functional:!0,props:Te(),setup(e,n){let{slots:i}=n;const l=u(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return D(()=>a(be,{transition:e.transition},{default:()=>[q(a("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[i.default?i.default({counter:l.value,max:e.max,value:e.value}):l.value]),[[Y,e.active]])]})),{}}});const Ee=M({floating:Boolean,...A()},"VFieldLabel"),B=O()({name:"VFieldLabel",props:Ee(),setup(e,n){let{slots:i}=n;return D(()=>a(xe,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},i)),{}}}),Me=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ae=M({appendInnerIcon:R,bgColor:String,clearable:Boolean,clearIcon:{type:R,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:R,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>Me.includes(e)},"onClick:clear":T(),"onClick:appendInner":T(),"onClick:prependInner":T(),...A(),...Ce(),...ke(),...ne()},"VField"),Oe=O()({name:"VField",inheritAttrs:!1,props:{id:String,...Fe(),...Ae()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:i,emit:l,slots:t}=n;const{themeClasses:d}=le(e),{loaderClasses:f}=Ve(e),{focusClasses:b,isFocused:y,focus:c,blur:h}=_e(e),{InputIcon:x}=we(e),{roundedClasses:L}=Ie(e),{rtlClasses:$}=ie(),F=u(()=>e.dirty||e.active),V=u(()=>!e.singleLine&&!!(e.label||t.label)),j=se(),v=u(()=>e.id||`input-${j}`),G=u(()=>`${v.value}-messages`),p=E(),_=E(),W=E(),z=u(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:H,backgroundColorStyles:J}=oe(re(e,"bgColor")),{textColorClasses:K,textColorStyles:N}=de(u(()=>e.error||e.disabled?void 0:F.value&&y.value?e.color:e.baseColor));ce(F,s=>{if(V.value){const o=p.value.$el,g=_.value.$el;requestAnimationFrame(()=>{const m=Le(o),r=g.getBoundingClientRect(),w=r.x-m.x,I=r.y-m.y-(m.height/2-r.height/2),k=r.width/.75,P=Math.abs(k-m.width)>1?{maxWidth:ue(k)}:void 0,Z=getComputedStyle(o),X=getComputedStyle(g),ee=parseFloat(Z.transitionDuration)*1e3||150,te=parseFloat(X.getPropertyValue("--v-field-label-scale")),ae=X.getPropertyValue("color");o.style.visibility="visible",g.style.visibility="hidden",$e(o,{transform:`translate(${w}px, ${I}px) scale(${te})`,color:ae,...P},{duration:ee,easing:Re,direction:s?"normal":"reverse"}).finished.then(()=>{o.style.removeProperty("visibility"),g.style.removeProperty("visibility")})})}},{flush:"post"});const C=u(()=>({isActive:F,isFocused:y,controlRef:W,blur:h,focus:c}));function Q(s){s.target!==document.activeElement&&s.preventDefault()}function U(s){var o;s.key!=="Enter"&&s.key!==" "||(s.preventDefault(),s.stopPropagation(),(o=e["onClick:clear"])==null||o.call(e,new MouseEvent("click")))}return D(()=>{var w,I,k;const s=e.variant==="outlined",o=!!(t["prepend-inner"]||e.prependInnerIcon),g=!!(e.clearable||t.clear),m=!!(t["append-inner"]||e.appendInnerIcon||g),r=()=>t.label?t.label({...C.value,label:e.label,props:{for:v.value}}):e.label;return a("div",ve({class:["v-field",{"v-field--active":F.value,"v-field--appended":m,"v-field--center-affix":e.centerAffix??!z.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":o,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!r(),[`v-field--variant-${e.variant}`]:!0},d.value,H.value,b.value,f.value,L.value,$.value,e.class],style:[J.value,e.style],onClick:Q},i),[a("div",{class:"v-field__overlay"},null),a(Pe,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),o&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(x,{key:"prepend-icon",name:"prependInner"},null),(w=t["prepend-inner"])==null?void 0:w.call(t,C.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&V.value&&a(B,{key:"floating-label",ref:_,class:[K.value],floating:!0,for:v.value,style:N.value},{default:()=>[r()]}),a(B,{ref:p,for:v.value},{default:()=>[r()]}),(I=t.default)==null?void 0:I.call(t,{...C.value,props:{id:v.value,class:"v-field__input","aria-describedby":G.value},focus:c,blur:h})]),g&&a(Be,{key:"clear"},{default:()=>[q(a("div",{class:"v-field__clearable",onMousedown:P=>{P.preventDefault(),P.stopPropagation()}},[a(Se,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...C.value,props:{onKeydown:U,onFocus:c,onBlur:h,onClick:e["onClick:clear"]}}):a(x,{name:"clear",onKeydown:U,onFocus:c,onBlur:h},null)]})]),[[Y,e.dirty]])]}),m&&a("div",{key:"append",class:"v-field__append-inner"},[(k=t["append-inner"])==null?void 0:k.call(t,C.value),e.appendInnerIcon&&a(x,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",K.value],style:N.value},[s&&a(fe,null,[a("div",{class:"v-field__outline__start"},null),V.value&&a("div",{class:"v-field__outline__notch"},[a(B,{ref:_,floating:!0,for:v.value},{default:()=>[r()]})]),a("div",{class:"v-field__outline__end"},null)]),z.value&&V.value&&a(B,{ref:_,floating:!0,for:v.value},{default:()=>[r()]})])])}),{controlRef:W}}});function Xe(e){const n=Object.keys(Oe.props).filter(i=>!ge(i)&&i!=="class"&&i!=="style");return me(e,n)}export{S as B,Oe as V,Ue as a,$e as b,Ne as c,Ke as d,We as e,Xe as f,ze as g,Ae as m,Le as n,Re as s};
