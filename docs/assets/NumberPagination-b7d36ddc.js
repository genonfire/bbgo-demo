import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{V as A}from"./VCol-e00bcbf1.js";import{m as j,H as q,b as K,c as O,M as W,V}from"./forwardRefs-924807e8.js";import{C as H,aw as J,i as X,aq as S,m as Q,ax as ee,j as ae,n as te,k as le,J as ie,ad as ne,x as se,v as ue,R as re,y as oe,A as B,ay as de,z as b,az as k,s as m,l as ve,a as n,M as x,aA as M,S as w,o as R,c as N,w as L,b as ce,t as ge,g as fe}from"./index-19cdb70b.js";import{V as me}from"./VSelect-05023c47.js";import{V as be}from"./VRow-19d851c3.js";function pe(){const e=H([]);J(()=>e.value=[]);function g(s,P){e.value[P]=s}return{refs:e,updateRef:g}}const ye=X({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:S,default:"$first"},prevIcon:{type:S,default:"$prev"},nextIcon:{type:S,default:"$next"},lastIcon:{type:S,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...j(),...Q(),...q(),...K(),...O(),...ee(),...ae({tag:"nav"}),...te(),...W({variant:"text"})},"VPagination"),he=le()({name:"VPagination",props:ye(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,g){let{slots:s,emit:P}=g;const l=ie(e,"modelValue"),{t:u,n:p}=ne(),{isRtl:_}=se(),{themeClasses:$}=ue(e),{width:F}=re(),I=oe(-1);B(void 0,{scoped:!0});const{resizeRef:E}=de(a=>{if(!a.length)return;const{target:t,contentRect:i}=a[0],d=t.querySelector(".v-pagination__list > *");if(!d)return;const v=i.width,h=d.offsetWidth+parseFloat(getComputedStyle(d).marginRight)*2;I.value=C(v,h)}),r=b(()=>parseInt(e.length,10)),o=b(()=>parseInt(e.start,10)),c=b(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):I.value>=0?I.value:C(F.value,58));function C(a,t){const i=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-t*i)/t).toFixed(2)))}const T=b(()=>{if(r.value<=0||isNaN(r.value)||r.value>Number.MAX_SAFE_INTEGER)return[];if(c.value<=0)return[];if(c.value===1)return[l.value];if(r.value<=c.value)return k(r.value,o.value);const a=c.value%2===0,t=a?c.value/2:Math.floor(c.value/2),i=a?t:t+1,d=r.value-t;if(i-l.value>=0)return[...k(Math.max(1,c.value-1),o.value),e.ellipsis,r.value];if(l.value-d>=(a?1:0)){const v=c.value-1,h=r.value-v+o.value;return[o.value,e.ellipsis,...k(v,h)]}else{const v=Math.max(1,c.value-3),h=v===1?l.value:l.value-Math.ceil(v/2)+o.value;return[o.value,e.ellipsis,...k(v,h),e.ellipsis,r.value]}});function y(a,t,i){a.preventDefault(),l.value=t,i&&P(i,t)}const{refs:D,updateRef:U}=pe();B({VPaginationBtn:{color:m(e,"color"),border:m(e,"border"),density:m(e,"density"),size:m(e,"size"),variant:m(e,"variant"),rounded:m(e,"rounded"),elevation:m(e,"elevation")}});const G=b(()=>T.value.map((a,t)=>{const i=d=>U(d,t);if(typeof a=="string")return{isActive:!1,key:`ellipsis-${t}`,page:a,props:{ref:i,ellipsis:!0,icon:!0,disabled:!0}};{const d=a===l.value;return{isActive:d,key:a,page:p(a),props:{ref:i,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:d?e.activeColor:e.color,"aria-current":d,"aria-label":u(d?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:v=>y(v,a)}}}})),f=b(()=>{const a=!!e.disabled||l.value<=o.value,t=!!e.disabled||l.value>=o.value+r.value-1;return{first:e.showFirstLastPage?{icon:_.value?e.lastIcon:e.firstIcon,onClick:i=>y(i,o.value,"first"),disabled:a,"aria-label":u(e.firstAriaLabel),"aria-disabled":a}:void 0,prev:{icon:_.value?e.nextIcon:e.prevIcon,onClick:i=>y(i,l.value-1,"prev"),disabled:a,"aria-label":u(e.previousAriaLabel),"aria-disabled":a},next:{icon:_.value?e.prevIcon:e.nextIcon,onClick:i=>y(i,l.value+1,"next"),disabled:t,"aria-label":u(e.nextAriaLabel),"aria-disabled":t},last:e.showFirstLastPage?{icon:_.value?e.firstIcon:e.lastIcon,onClick:i=>y(i,o.value+r.value-1,"last"),disabled:t,"aria-label":u(e.lastAriaLabel),"aria-disabled":t}:void 0}});function z(){var t;const a=l.value-o.value;(t=D.value[a])==null||t.$el.focus()}function Y(a){a.key===M.left&&!e.disabled&&l.value>+e.start?(l.value=l.value-1,w(z)):a.key===M.right&&!e.disabled&&l.value<o.value+r.value-1&&(l.value=l.value+1,w(z))}return ve(()=>n(e.tag,{ref:E,class:["v-pagination",$.value,e.class],style:e.style,role:"navigation","aria-label":u(e.ariaLabel),onKeydown:Y,"data-test":"v-pagination-root"},{default:()=>[n("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&n("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[s.first?s.first(f.value.first):n(V,x({_as:"VPaginationBtn"},f.value.first),null)]),n("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[s.prev?s.prev(f.value.prev):n(V,x({_as:"VPaginationBtn"},f.value.prev),null)]),G.value.map((a,t)=>n("li",{key:a.key,class:["v-pagination__item",{"v-pagination__item--is-active":a.isActive}],"data-test":"v-pagination-item"},[s.item?s.item(a):n(V,x({_as:"VPaginationBtn"},a.props),{default:()=>[a.page]})])),n("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[s.next?s.next(f.value.next):n(V,x({_as:"VPaginationBtn"},f.value.next),null)]),e.showFirstLastPage&&n("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[s.last?s.last(f.value.last):n(V,x({_as:"VPaginationBtn"},f.value.last),null)])])]})),{}}}),Ve={props:{modelValue:Number,pagination:Object,getItems:Function,page:{type:Number,default:1}},emits:["update:modelValue"],data(){return{pageModel:this.page,pageSizeItems:[{text:this.$t("hint.PAGESIZE_BY",{pageSize:20}),value:20},{text:this.$t("hint.PAGESIZE_BY",{pageSize:50}),value:50},{text:this.$t("hint.PAGESIZE_BY",{pageSize:100}),value:100}]}},computed:{pageSize:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},tallyItems(){return this.$t("hint.TALLY_ITEMS",{total:this.pagination.item_total})}},methods:{onPageClick(){this.getItems(this.pageModel)},onUpdatePageSize(){this.pageModel=1,this.getItems(this.pageModel)}}};function xe(e,g,s,P,l,u){return R(),N(be,{class:"pt-5"},{default:L(()=>[n(A,{cols:"2",class:"pt-3 hidden-sm-and-down"},{default:L(()=>[ce(ge(u.tallyItems),1)]),_:1}),n(A,null,{default:L(()=>[n(he,{modelValue:l.pageModel,"onUpdate:modelValue":g[0]||(g[0]=p=>l.pageModel=p),length:s.pagination.page_total,"total-visible":6,variant:"flat","active-color":"secondary",density:"comfortable",onClick:u.onPageClick},null,8,["modelValue","length","onClick"])]),_:1}),n(A,{cols:"2",class:"text-right hidden-sm-and-down"},{default:L(()=>[u.pageSize?(R(),N(me,{key:0,modelValue:u.pageSize,"onUpdate:modelValue":[g[1]||(g[1]=p=>u.pageSize=p),u.onUpdatePageSize],variant:"outlined",density:"compact",items:l.pageSizeItems,"item-title":"text","item-value":"value"},null,8,["modelValue","items","onUpdate:modelValue"])):fe("",!0)]),_:1})]),_:1})}const Ae=Z(Ve,[["render",xe]]);export{Ae as N};
