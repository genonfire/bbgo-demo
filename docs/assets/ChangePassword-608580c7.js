import{u as P}from"./rules-08dc73ed.js";import{_ as h}from"./plugin-vue_export-helper-c27b6911.js";import{V as C,a as _,b as S}from"./VCard-70e41233.js";import{V as f}from"./VSheet-b118c539.js";import{V as a}from"./VRow-93a26ab0.js";import{V as u}from"./VCol-c72717e7.js";import{V as m}from"./VTextField-c32c9752.js";import{V as y}from"./VForm-6aa741bf.js";import{V as A}from"./forwardRefs-601a00f7.js";import{o as p,c as O,w as n,a as t,b as i,t as r,e as c,d as w}from"./index-9a7d77d1.js";import"./VField-28f70089.js";const N={setup(){const{password:s,rules:e}=P();return{password:s,rules:e}},data(){return{done:!1,validation:!1,oldPassword:null,passwordConfirm:null,showOldPassword:!1,showPassword:!1}},methods:{reset(){const s=this;this.$axios({method:this.$api("ACCOUNTS_PASSWORD_CHANGE").method,url:this.$api("ACCOUNTS_PASSWORD_CHANGE").url,data:{old_password:this.oldPassword,new_password:this.passwordConfirm}}).then(function(e){s.$axios.defaults.headers.common.Authorization="",s.$store.logout(),s.done=!0}).catch(function(e){s.$toast.error(s.$error(e,"ACCOUNTS_PASSWORD_CHANGE"))})}}},k={key:0},v={key:1},E={class:"text-body-2 font-weight-medium"},R={class:"text-body-2 font-weight-medium"},x={class:"text-body-2 font-weight-medium"};function D(s,e,b,d,o,V){return p(),O(C,{class:"mx-auto mt-3 pa-6 pt-2","max-width":"500"},{default:n(()=>[t(_,{class:"mb-4 text-h5 font-weight-bold text-center"},{default:n(()=>[i(r(s.$t("menu.CHANGE_PASSWORD")),1)]),_:1}),o.done?(p(),c("div",k,[t(f,null,{default:n(()=>[i(r(s.$t("hint.PASSWORD_CHANGE_COMPLETE")),1)]),_:1})])):(p(),c("div",v,[t(f,{class:"mx-2 mb-5"},{default:n(()=>[i(r(s.$t("hint.PASSWORD_CHANGE_DESCRIPTION")),1)]),_:1}),t(y,{modelValue:o.validation,"onUpdate:modelValue":e[6]||(e[6]=l=>o.validation=l)},{default:n(()=>[t(a,null,{default:n(()=>[t(u,null,{default:n(()=>[w("div",E,r(s.$t("accounts.OLD_PASSWORD")),1),t(m,{modelValue:o.oldPassword,"onUpdate:modelValue":e[0]||(e[0]=l=>o.oldPassword=l),density:"compact",type:o.showOldPassword?"text":"password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":o.showOldPassword?"mdi-eye":"mdi-eye-off",rules:[d.rules.required],"onClick:appendInner":e[1]||(e[1]=l=>o.showOldPassword=!o.showOldPassword),autocomplete:""},null,8,["modelValue","type","append-inner-icon","rules"])]),_:1})]),_:1}),t(a,null,{default:n(()=>[t(u,null,{default:n(()=>[w("div",R,r(s.$t("accounts.NEW_PASSWORD")),1),t(m,{modelValue:d.password,"onUpdate:modelValue":e[2]||(e[2]=l=>d.password=l),density:"compact",type:o.showPassword?"text":"password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":o.showPassword?"mdi-eye":"mdi-eye-off",rules:[d.rules.required],"onClick:appendInner":e[3]||(e[3]=l=>o.showPassword=!o.showPassword),autocomplete:""},null,8,["modelValue","type","append-inner-icon","rules"])]),_:1})]),_:1}),t(a,null,{default:n(()=>[t(u,null,{default:n(()=>[w("div",x,r(s.$t("accounts.NEW_PASSWORD_CONFIRM")),1),t(m,{modelValue:o.passwordConfirm,"onUpdate:modelValue":e[4]||(e[4]=l=>o.passwordConfirm=l),density:"compact",type:o.showPassword?"text":"password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":o.showPassword?"mdi-eye":"mdi-eye-off",rules:[d.rules.required,d.rules.samePassword],"onClick:appendInner":e[5]||(e[5]=l=>o.showPassword=!o.showPassword),autocomplete:""},null,8,["modelValue","type","append-inner-icon","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(S,{class:"mt-5 pa-0"},{default:n(()=>[t(A,{color:"secondary",block:"",disabled:!o.validation,onClick:V.reset},{default:n(()=>[i(r(s.$t("action.SAVE")),1)]),_:1},8,["disabled","onClick"])]),_:1})]))]),_:1})}const M=h(N,[["render",D]]);export{M as default};
