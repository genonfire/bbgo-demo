import{u as f}from"./rules-d6ec9447.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{V as p,a as E,b as T}from"./VCard-4cfd500e.js";import{V as d}from"./VSheet-20dc5bcd.js";import{V}from"./VCheckbox-12300693.js";import{V as h}from"./VForm-ca47194b.js";import{V as A}from"./forwardRefs-924807e8.js";import{o as i,c as N,w as t,a as s,b as n,t as l,e as c,d as m}from"./index-19cdb70b.js";import"./VCheckboxBtn-1c9dfc3d.js";const D={setup(){const{rules:e}=f();return{rules:e}},data(){return{done:!1,validation:!1,consent:!1}},methods:{deleteAccount(){const e=this;this.$axios({method:this.$api("ACCOUNTS_DEACTIVATE").method,url:this.$api("ACCOUNTS_DEACTIVATE").url,data:{consent:this.consent}}).then(function(o){e.$axios.defaults.headers.common.Authorization="",e.$store.logout(),e.done=!0}).catch(function(o){e.$toast.error(e.$error(o,"ACCOUNTS_DEACTIVATE"))})}}},O={key:0},b={key:1},U={class:"mt-5"},k={class:"ml-1 text-subtitle-2"};function x(e,o,v,u,a,C){return i(),N(p,{class:"mx-auto mt-3 pa-6 pt-2","max-width":"500"},{default:t(()=>[s(E,{class:"mb-4 text-h5 font-weight-bold text-center"},{default:t(()=>[n(l(e.$t("menu.DELETE_ACCOUNT")),1)]),_:1}),a.done?(i(),c("div",O,[s(d,null,{default:t(()=>[n(l(e.$t("hint.DELETE_ACCOUNT_COMPLETE")),1)]),_:1})])):(i(),c("div",b,[s(d,{class:"mx-2"},{default:t(()=>[n(l(e.$t("hint.DELETE_ACCOUNT_DESCRIPTION")),1)]),_:1}),s(h,{modelValue:a.validation,"onUpdate:modelValue":o[1]||(o[1]=r=>a.validation=r)},{default:t(()=>[m("div",U,[s(V,{modelValue:a.consent,"onUpdate:modelValue":o[0]||(o[0]=r=>a.consent=r),density:"compact",color:"secondary",rules:[u.rules.required],"hide-details":""},{label:t(()=>[m("span",k,l(e.$t("hint.DELETE_ACCOUNT_CONSENT")),1)]),_:1},8,["modelValue","rules"])])]),_:1},8,["modelValue"]),s(T,{class:"mt-5 pa-0"},{default:t(()=>[s(A,{color:"secondary",block:"",disabled:!a.validation,onClick:C.deleteAccount},{default:t(()=>[n(l(e.$t("action.DELETE_ACCOUNT")),1)]),_:1},8,["disabled","onClick"])]),_:1})]))]),_:1})}const R=_(D,[["render",x]]);export{R as default};
