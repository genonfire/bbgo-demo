import{u as _}from"./rules-b0a6d5c6.js";import{_ as f}from"./plugin-vue_export-helper-c27b6911.js";import{V as p,a as E,b as T}from"./VCard-4331e0a1.js";import{V as d}from"./VSheet-fcfa7ac1.js";import{V}from"./VCheckbox-4c2a073f.js";import{V as h}from"./VForm-0758555c.js";import{V as A}from"./forwardRefs-b452bb48.js";import{o as i,c as N,w as t,a as s,b as n,t as l,e as c,d as m}from"./index-b7137ed4.js";import"./VCheckboxBtn-7d7bc7aa.js";const D={setup(){const{rules:e}=_();return{rules:e}},data(){return{done:!1,validation:!1,consent:!1}},methods:{deleteAccount(){const e=this;this.$axios({method:this.$api("ACCOUNTS_DEACTIVATE").method,url:this.$api("ACCOUNTS_DEACTIVATE").url,data:{consent:this.consent}}).then(function(o){e.$store.logout(),e.done=!0}).catch(function(o){e.$toast.error(e.$error(o,"ACCOUNTS_DEACTIVATE"))})}}},O={key:0},b={key:1},U={class:"mt-5"},k={class:"ml-1 text-subtitle-2"};function v(e,o,x,u,a,C){return i(),N(p,{class:"mx-auto mt-3 pa-6 pt-2","max-width":"500"},{default:t(()=>[s(E,{class:"mb-4 text-h5 font-weight-bold text-center"},{default:t(()=>[n(l(e.$t("menu.DELETE_ACCOUNT")),1)]),_:1}),a.done?(i(),c("div",O,[s(d,null,{default:t(()=>[n(l(e.$t("hint.DELETE_ACCOUNT_COMPLETE")),1)]),_:1})])):(i(),c("div",b,[s(d,{class:"mx-2"},{default:t(()=>[n(l(e.$t("hint.DELETE_ACCOUNT_DESCRIPTION")),1)]),_:1}),s(h,{modelValue:a.validation,"onUpdate:modelValue":o[1]||(o[1]=r=>a.validation=r)},{default:t(()=>[m("div",U,[s(V,{modelValue:a.consent,"onUpdate:modelValue":o[0]||(o[0]=r=>a.consent=r),density:"compact",color:"secondary",rules:[u.rules.required],"hide-details":""},{label:t(()=>[m("span",k,l(e.$t("hint.DELETE_ACCOUNT_CONSENT")),1)]),_:1},8,["modelValue","rules"])])]),_:1},8,["modelValue"]),s(T,{class:"mt-5 pa-0"},{default:t(()=>[s(A,{color:"secondary",block:"",disabled:!a.validation,onClick:C.deleteAccount},{default:t(()=>[n(l(e.$t("action.DELETE_ACCOUNT")),1)]),_:1},8,["disabled","onClick"])]),_:1})]))]),_:1})}const R=f(D,[["render",v]]);export{R as default};
